function getCurrentPagePerformanceInfo(){try{let e={pageurl:"",navigationType:"",connectEnd:"",responseStart:"",domInteractive:"",domComplete:"",pageLoadEventEnd:""};e.pageurl=window.location.href;let o=performance.getEntriesByType("navigation")[0];return void 0!==o&&(o.type&&(e.navigationType=o.type),o.connectEnd&&(e.connectEnd=(o.connectEnd/1e3).toFixed(2)),o.responseStart&&(e.responseStart=(o.responseStart/1e3).toFixed(2)),o.domInteractive&&(e.domInteractive=(o.domInteractive/1e3).toFixed(2)),o.domComplete&&(e.domComplete=(o.domComplete/1e3).toFixed(2)),o.loadEventEnd&&(e.pageLoadEventEnd=(o.loadEventEnd/1e3).toFixed(2))),e}catch(e){console.log("[PageLoadTime utility] Error occured"+e.message)}}function getPreviousPagePerformanceInfo(){try{let e={pageurl:"",navigationType:"",connectEnd:"",responseStart:"",domInteractive:"",domComplete:"",pageLoadEventEnd:""},o=document.cookie.indexOf("cust_ppi");if(-1==o)return e;let t=document.cookie.indexOf(";",o);-1==t&&(t=document.cookie.length);let n=document.cookie.substring(o,t).split("=");if(n=decodeURIComponent(n[1]),n){let o=n.split(",");e.pageurl=o[0],e.navigationType=o[1],e.connectEnd=o[2],e.responseStart=o[3],e.domInteractive=o[4],e.domComplete=o[5],e.pageLoadEventEnd=o[6]}return e}catch(e){console.log("[PageLoadTime utility] Error occured"+e.message)}}window.addEventListener("beforeunload",(()=>{try{let e=window.getCurrentPagePerformanceInfo(),o="";o+=window.location.href,o+=","+e.navigationType,o+=","+e.connectEnd,o+=","+e.responseStart,o+=","+e.domInteractive,o+=","+e.domComplete,o+=","+e.pageLoadEventEnd,document.cookie="cust_ppi="+encodeURIComponent(o)+"; path=/"}catch(e){console.log("[PageLoadTime utility] Error occured"+e.message)}}));